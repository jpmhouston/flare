{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Views provide a handy way to handle completed or failed transactions using "},{"type":"codeVoice","code":"SwiftUI\/View\/onInAppPurchaseCompletion(completion:)"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FlareUI\/documentation\/FlareUI\/ProductsViewController\/onInAppPurchaseCompletion"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ SwiftUI","","ProductsView(ids: [\"com.company.product_id_1\", \"com.company.product_id_2\"])","    .onInAppPurchaseCompletion { result in","        switch result {","        case let .success(transaction):","            \/\/ Handle the transaction","","            \/\/ IMPORTANT: Finish the transaction","        case let .failure(error):","            \/\/ Handle the error","        }","    }"]},{"style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Once you’ve handled a transaction, don’t forget to finish it using "},{"type":"reference","isActive":true,"identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)"},{"type":"text","text":". Read more about "},{"type":"reference","isActive":true,"identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase"},{"type":"text","text":"."}]}],"type":"aside","name":"Important"},{"type":"codeListing","syntax":"swift","code":["\/\/ UIKit","","let subscriptionsVC = SubscriptionsViewController(ids: [\"com.company.subscription_id_1\"])","subscriptionsVC.onInAppPurchaseCompletion = { result in ","    switch result {","    case let .success(transaction):","        \/\/ Handle the transaction","","        \/\/ IMPORTANT: Finish the transaction","    case let .failure(error):","        \/\/ Handle the error","    }","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/flareui\/handling-transactions"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/FlareUI\/documentation\/FlareUI\/handling-transactions","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how to handle transactions."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Handling Transactions","role":"article","modules":[{"name":"FlareUI"}]},"hierarchy":{"paths":[["doc:\/\/FlareUI\/documentation\/FlareUI"]]},"references":{"doc://FlareUI/documentation/FlareUI":{"role":"collection","title":"FlareUI","abstract":[{"type":"text","text":"Display a customizable in-app purchase store using StoreKit views for UIKit and SwiftUI."}],"identifier":"doc:\/\/FlareUI\/documentation\/FlareUI","kind":"symbol","type":"topic","url":"\/documentation\/flareui"},"doc://FlareUI/documentation/FlareUI/ProductsViewController/onInAppPurchaseCompletion":{"role":"symbol","title":"onInAppPurchaseCompletion","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"onInAppPurchaseCompletion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletionHandler","preciseIdentifier":"s:7FlareUI25PurchaseCompletionHandlera"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"A completion handler for in-app purchase events."}],"identifier":"doc:\/\/FlareUI\/documentation\/FlareUI\/ProductsViewController\/onInAppPurchaseCompletion","kind":"symbol","type":"topic","url":"\/documentation\/flareui\/productsviewcontroller\/oninapppurchasecompletion"},"https://space-code.github.io/flare/flare/documentation/flare/perform-purchase":{"title":"Finishing Transactions","titleInlineContent":[{"type":"text","text":"Finishing Transactions"}],"type":"link","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase","url":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase"},"https://space-code.github.io/flare/flare/documentation/flare/iflare/finish(transaction:completion:)":{"title":"Finish Method","titleInlineContent":[{"type":"text","text":"Finish Method"}],"type":"link","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)","url":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)"}}}